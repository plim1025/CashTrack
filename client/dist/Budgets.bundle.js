(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{212:function(e,t,n){"use strict";var a,r,o=n(0),l=n.n(o),i=n(5),u=n(581),c=n(523),d=n(116),s=n(52),m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},f=Object(i.a)(u.a)(a||(a=m(["\n    .modal-dialog {\n        max-width: none;\n        width: 600px;\n    }\n    .modal-content {\n        display: flex;\n        max-height: 700px;\n        padding-bottom: 10px;\n    }\n    .modal-body {\n        overflow-y: auto;\n    }\n"],["\n    .modal-dialog {\n        max-width: none;\n        width: 600px;\n    }\n    .modal-content {\n        display: flex;\n        max-height: 700px;\n        padding-bottom: 10px;\n    }\n    .modal-body {\n        overflow-y: auto;\n    }\n"]))),p=Object(i.a)(c.a)(r||(r=m(["\n    font-size: 12px;\n    & td,\n    th {\n        overflow: hidden;\n        padding: 0.25rem 0.5rem !important;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n"],["\n    font-size: 12px;\n    & td,\n    th {\n        overflow: hidden;\n        padding: 0.25rem 0.5rem !important;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n"])));t.a=function(e){return l.a.createElement(f,{centered:!0,show:e.show,onHide:function(){return e.close()}},l.a.createElement(u.a.Header,{closeButton:!0},l.a.createElement("h4",{className:"w-100"},e.title)),l.a.createElement(u.a.Body,null,e.transactions.length?l.a.createElement(p,{bordered:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:100}},"Date"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Category"),l.a.createElement("th",{style:{width:136}},"Amount"))),l.a.createElement("tbody",null,e.transactions.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,Object(d.c)(e.date)),l.a.createElement("td",null,Object(d.d)(e.description)),l.a.createElement("td",null,e.category),l.a.createElement("td",null,Object(s.d)(e.amount.toString())))})))):l.a.createElement("div",null,"No transactions in this time period")))}},523:function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(3),l=n.n(o),i=n(0),u=n.n(i),c=n(4),d=u.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,i=e.striped,d=e.bordered,s=e.borderless,m=e.hover,f=e.size,p=e.variant,g=e.responsive,h=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),y=Object(c.a)(n,"table"),b=l()(o,y,p&&y+"-"+p,f&&y+"-"+f,i&&y+"-striped",d&&y+"-bordered",s&&y+"-borderless",m&&y+"-hover"),v=u.a.createElement("table",Object(a.a)({},h,{className:b,ref:t}));if(g){var w=y+"-responsive";return"string"==typeof g&&(w=w+"-"+g),u.a.createElement("div",{className:w},v)}return v}));t.a=d},584:function(e,t,n){"use strict";n.r(t);var a,r,o=n(0),l=n.n(o),i=n(5),u=n(9),c=function(e){return l.a.createElement(u.a,{child:"+ Budget",onClick:function(){return e.openAddModal()},style:{margin:"auto"}})},d=n(581),s=n(96),m=n(114),f=n(21),p=n(175),g=n(52),h=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{u(a.next(e))}catch(e){o(e)}}function i(e){try{u(a.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((a=a.apply(e,t||[])).next())}))},y=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},b=function(e){switch(e){case"day":return"Daily";case"week":return"Weekly";case"month":return"Monthly";case"year":return"Yearly";default:return console.log("Error getting frequency label"),""}},v=function(e,t){return h(void 0,void 0,void 0,(function(){var n,a;return y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("/api/budget/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({frequency:t.frequency,amount:t.amount,categoryName:t.categoryName,startDate:t.startDate,endDate:t.endDate})})];case 1:if(!(n=r.sent()).ok)throw Error("Bad response from server");return[4,n.json()];case 2:return[2,r.sent()];case 3:throw a=r.sent(),Error("Error updating budget: "+a);case 4:return[2]}}))}))},w=function(e){return h(void 0,void 0,void 0,(function(){var t;return y(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch("/api/budget/"+e,{method:"DELETE",credentials:"include"})];case 1:if(!n.sent().ok)throw Error("Bad response from server");return[3,3];case 2:throw t=n.sent(),Error("Error deleting budget: "+t);case 3:return[2]}}))}))},E=function(e,t){var n;if("day"===e.frequency){var a=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();n=e.amount*a}else if("week"===e.frequency){a=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();n=e.amount*a/7}else if("month"===e.frequency)n=e.amount;else if("year"===e.frequency)n=e.amount/12;else if("one-time"===e.frequency){for(var r=new Date(e.startDate),o=new Date(e.endDate),l=r.getMonth(),i=r.getFullYear(),u=o.getMonth(),c=o.getFullYear(),d=0;l!==u||i!==c;)d++,11===l?(i=0,l++):l++;n=e.amount/d}return n},D=function(e){var t=e.getFullYear();return[{label:"Jan "+t,value:new Date(t,0,1)},{label:"Feb "+t,value:new Date(t,1,1)},{label:"Mar "+t,value:new Date(t,2,1)},{label:"Apr "+t,value:new Date(t,3,1)},{label:"May "+t,value:new Date(t,4,1)},{label:"Jun "+t,value:new Date(t,5,1)},{label:"Jul "+t,value:new Date(t,6,1)},{label:"Aug "+t,value:new Date(t,7,1)},{label:"Sep "+t,value:new Date(t,8,1)},{label:"Oct "+t,value:new Date(t,9,1)},{label:"Nov "+t,value:new Date(t,10,1)},{label:"Dec "+t,value:new Date(t,11,1)},{label:"Forever",value:new Date(9999,0,0)}]},x=function(e,t,n){var a,r;return"edit"===t?(a=e.getMonth(),r=e.getFullYear()):(a=(new Date).getMonth(),r=(new Date).getFullYear()),"end"===n&&a++,12===a&&(r++,a=0),{label:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a]+" "+r,value:new Date(r,a)}},O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},M=function(){return(M=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},j=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},S=i.a.div(r||(r=O(["\n    display: flex;\n    & > div {\n        width: 50%;\n    }\n    & div:first-child {\n        margin-right: 10px;\n    }\n"],["\n    display: flex;\n    & > div {\n        width: 50%;\n    }\n    & div:first-child {\n        margin-right: 10px;\n    }\n"]))),_=function(e){var t=j(Object(o.useState)(null),2),n=t[0],r=t[1],i=j(Object(o.useState)({show:!1,message:""}),2),c=i[0],h=i[1];Object(o.useEffect)((function(){e.show&&("edit"===e.mode?r(e.budget):r({_id:null,frequency:null,startDate:x(e.monthDate,e.mode,"start").value,endDate:x(e.monthDate,e.mode,"end").value,amount:null,categoryName:null}))}),[e.show]);var y=function(){e.close(),r({_id:null,frequency:null,startDate:x(e.monthDate,e.mode,"start").value,endDate:x(e.monthDate,e.mode,"end").value,amount:null,categoryName:null})};return Object(o.useEffect)((function(){return function(){clearTimeout(a)}}),[]),l.a.createElement(d.a,{centered:!0,onHide:y,show:e.show},l.a.createElement(f.a,{error:c.show,errorMessage:c.message}),l.a.createElement(s.a,null,l.a.createElement(d.a.Body,null,l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Label,null,"Category"),l.a.createElement(m.a,{size:"bg",padded:!0,options:Object(g.e)(e.categories),defaultOption:"edit"===e.mode?{value:e.budget.categoryName,label:e.budget.categoryName}:null,onChange:function(e){return r(M(M({},n),{categoryName:e.value}))},placeholder:"Select Category...",menuComponent:function(t){return l.a.createElement(p.a,{menuProps:t,openCategoryModal:e.openCategory,openCallback:e.close})}})),l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Label,null,"Amount"),l.a.createElement(s.a.Control,{defaultValue:"edit"===e.mode?e.budget.amount:null,onChange:function(e){return r(M(M({},n),{amount:parseFloat(e.target.value)}))}})),l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Label,null,"Frequency"),l.a.createElement(m.a,{size:"bg",padded:!0,options:[{label:"Daily",value:"day"},{label:"Weekly",value:"week"},{label:"Monthly",value:"month"},{label:"Yearly",value:"year"},{label:"One Time Purchase",value:"one-time"}],placeholder:"Select Frequency...",defaultOption:"edit"===e.mode?{label:b(e.budget.frequency),value:e.budget.frequency}:null,onChange:function(e){return r(M(M({},n),{frequency:e.value}))}})),l.a.createElement(S,null,l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Label,null,"Start Month"),l.a.createElement(m.a,{size:"bg",padded:!0,options:D(e.monthDate),placeholder:"Select date...",defaultOption:x(e.monthDate,e.mode,"start"),onChange:function(e){return r(M(M({},n),{startDate:e.value}))}})),l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Label,null,"End Month"),l.a.createElement(m.a,{size:"bg",padded:!0,options:D(e.monthDate),placeholder:"Select date...",defaultOption:x(e.monthDate,e.mode,"end"),onChange:function(e){return r(M(M({},n),{endDate:e.value}))}})))),l.a.createElement(d.a.Footer,null,"edit"===e.mode?l.a.createElement(u.a,{child:"Delete",onClick:function(){e.handleDeleteBudget(e.budget._id),e.close()},style:{marginRight:"auto"},size:"sm",variant:"danger"}):null,l.a.createElement(u.a,{child:"Cancel",onClick:y,size:"sm",variant:"secondary"}),l.a.createElement(u.a,{child:"Submit",onClick:function(t){if(t.preventDefault(),n&&n.frequency&&null!=n.amount&&n.categoryName&&n.startDate&&n.endDate)if(n.startDate>n.endDate)h({show:!0,message:"Start date must be before end date"});else if(isNaN(n.amount))h({show:!0,message:"Amount should be numeric"});else if(n.amount<0)h({show:!0,message:"Budget cannot be less than $0"});else{if(!(n.amount>1e9))return"add"===e.mode?e.handleCreateBudget(n):e.handleEditBudget(e.budget._id,n),void y();h({show:!0,message:"Maximum amount is $1,000,000,000"})}else h({show:!0,message:"All fields must be filled."});a&&clearTimeout(a),a=setTimeout((function(){h((function(e){return M(M({},e),{show:!1})}))}),3e3)},size:"sm",variant:"primary",submit:!0}))))},A=n(295),T=n(1),C=n(2),N=n(3),L=n.n(N),k=n(4);function P(e,t,n){var a=(e-t)/(n-t)*100;return Math.round(1e3*a)/1e3}function G(e,t){var n,a=e.min,r=e.now,o=e.max,i=e.label,u=e.srOnly,c=e.striped,d=e.animated,s=e.className,m=e.style,f=e.variant,p=e.bsPrefix,g=Object(C.a)(e,["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"]);return l.a.createElement("div",Object(T.a)({ref:t},g,{role:"progressbar",className:L()(s,p+"-bar",(n={},n["bg-"+f]=f,n[p+"-bar-animated"]=d,n[p+"-bar-striped"]=d||c,n)),style:Object(T.a)({width:P(r,a,o)+"%"},m),"aria-valuenow":r,"aria-valuemin":a,"aria-valuemax":o}),u?l.a.createElement("span",{className:"sr-only"},i):i)}var B=l.a.forwardRef((function(e,t){var n=e.isChild,a=Object(C.a)(e,["isChild"]);if(a.bsPrefix=Object(k.a)(a.bsPrefix,"progress"),n)return G(a,t);var r=a.min,i=a.now,u=a.max,c=a.label,d=a.srOnly,s=a.striped,m=a.animated,f=a.bsPrefix,p=a.variant,g=a.className,h=a.children,y=Object(C.a)(a,["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"]);return l.a.createElement("div",Object(T.a)({ref:t},y,{className:L()(g,f)}),h?function(e,t){var n=0;return l.a.Children.map(e,(function(e){return l.a.isValidElement(e)?t(e,n++):e}))}(h,(function(e){return Object(o.cloneElement)(e,{isChild:!0})})):G({min:r,now:i,max:u,label:c,srOnly:d,striped:s,animated:m,bsPrefix:f,variant:p},t))}));B.displayName="ProgressBar",B.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1};var Y,z,F,H,R,I,q,J,U,W,V,$,K,Q,X,Z,ee,te,ne,ae,re,oe,le,ie=B,ue=n(212),ce=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},de=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},se=i.a.div(Y||(Y=ce(["\n    font-size: 1rem;\n    font-weight: 700;\n    margin-top: 20px;\n    text-transform: capitalize;\n"],["\n    font-size: 1rem;\n    font-weight: 700;\n    margin-top: 20px;\n    text-transform: capitalize;\n"]))),me=i.a.div(z||(z=ce(["\n    cursor: pointer;\n    display: flex;\n    font-size: 16px;\n    margin-top: 40px;\n    max-width: 800px;\n    width: calc(100% - 40px);\n    &:hover {\n        text-decoration: underline;\n    }\n"],["\n    cursor: pointer;\n    display: flex;\n    font-size: 16px;\n    margin-top: 40px;\n    max-width: 800px;\n    width: calc(100% - 40px);\n    &:hover {\n        text-decoration: underline;\n    }\n"]))),fe=i.a.div(F||(F=ce([""],[""]))),pe=i.a.div(H||(H=ce(["\n    margin-left: auto;\n    margin-right: 36px;\n"],["\n    margin-left: auto;\n    margin-right: 36px;\n"]))),ge=i.a.div(R||(R=ce(["\n    margin: 10px 0;\n    max-width: 800px;\n    width: calc(100% - 40px);\n"],["\n    margin: 10px 0;\n    max-width: 800px;\n    width: calc(100% - 40px);\n"]))),he=i.a.div(I||(I=ce(["\n    display: flex;\n    font-size: 16px;\n    white-space: nowrap;\n"],["\n    display: flex;\n    font-size: 16px;\n    white-space: nowrap;\n"]))),ye=i.a.div(q||(q=ce([""],[""]))),be=i.a.div(J||(J=ce(["\n    margin-left: auto;\n    margin-right: 36px;\n"],["\n    margin-left: auto;\n    margin-right: 36px;\n"]))),ve=i.a.div(U||(U=ce(["\n    align-items: center;\n    display: flex;\n    margin-top: 4px;\n"],["\n    align-items: center;\n    display: flex;\n    margin-top: 4px;\n"]))),we=Object(i.a)(ie)(W||(W=ce(["\n    background-image: linear-gradient(45deg, #d0d0d0, #dcdcdc);\n    cursor: pointer;\n    width: 100%;\n    &&& {\n        height: 22px;\n    }\n    &:hover {\n        box-shadow: 0 0 0 0.2rem rgba(38, 143, 255, 0.5);\n    }\n"],["\n    background-image: linear-gradient(45deg, #d0d0d0, #dcdcdc);\n    cursor: pointer;\n    width: 100%;\n    &&& {\n        height: 22px;\n    }\n    &:hover {\n        box-shadow: 0 0 0 0.2rem rgba(38, 143, 255, 0.5);\n    }\n"]))),Ee=function(e){var t=de(Object(o.useState)({show:!1,transactions:[],title:""}),2),n=t[0],a=t[1],r=de(Object(o.useState)([]),2),i=r[0],c=r[1];return Object(o.useEffect)((function(){var t=e.budgets.map((function(e){return e.categoryName}));c(e.transactions.filter((function(e){return-1===t.indexOf(e.category)})).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})))}),[e.budgets]),l.a.createElement(l.a.Fragment,null,e.budgets.length?["income","expenses","other"].map((function(t){var n=e.budgets.filter((function(n){return e.categories.find((function(e){return e.name===n.categoryName})).type===t}));if(n.length)return l.a.createElement(l.a.Fragment,{key:t},l.a.createElement(se,null,t),n.map((function(t){var n=e.categories.find((function(e){return e.name===t.categoryName})).type,r=0,o=[];e.transactions.forEach((function(n){var a=new Date(n.date),l=new Date(e.monthDate);n.category===t.categoryName&&a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()&&(r+=n.amount,o.push(n))})),"expenses"!==n&&"other"!==n||(r*=-1);var i=E(t,new Date(e.monthDate)),c=r/i*100;return c<0?c=0:c>100&&(c=100),l.a.createElement(ge,{key:t._id},l.a.createElement(he,null,l.a.createElement(ye,null,t.categoryName),l.a.createElement(be,null,Object(g.d)(r)," /"," ",Object(g.d)(i))),l.a.createElement(ve,null,l.a.createElement(we,{striped:!0,now:c,variant:c<50?"success":c<100?"warning":"danger",onClick:function(){return a({show:!0,transactions:o,title:t.categoryName})}}),l.a.createElement(u.a,{child:l.a.createElement("svg",{fill:"#fff",height:"12",width:"12",viewBox:"0 0 512 512"},l.a.createElement("polygon",{points:"51.2,353.28 0,512 158.72,460.8"}),l.a.createElement("rect",{x:"89.73",y:"169.097",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -95.8575 260.3719)",width:"353.277",height:"153.599"}),l.a.createElement("path",{d:"M504.32,79.36L432.64,7.68c-10.24-10.24-25.6-10.24-35.84,0l-23.04,23.04l107.52,107.52l23.04-23.04 C514.56,104.96,514.56,89.6,504.32,79.36z"})),onClick:function(){return e.openEditModal(t)},style:{padding:4,marginLeft:10}})))})))})):l.a.createElement("div",null,"No Budgets Available"),l.a.createElement(me,{onClick:function(){return a({show:!0,transactions:i,title:"Remaining Transactions"})}},l.a.createElement(fe,null,"Remaining Transactions"),l.a.createElement(pe,null,Object(g.d)(i.length?i.map((function(e){return e.amount})).reduce((function(e,t){return e+parseFloat(t)})):0))),l.a.createElement(ue.a,{show:n.show,close:function(){return a({show:!1,transactions:[],title:""})},title:n.title,transactions:n.transactions}))},De=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},xe=function(){return(xe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Oe=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Me=i.a.div(V||(V=De(["\n    display: flex;\n    margin: 10px auto;\n    max-width: 600px;\n    width: calc(100% - 40px);\n"],["\n    display: flex;\n    margin: 10px auto;\n    max-width: 600px;\n    width: calc(100% - 40px);\n"]))),je=i.a.div($||($=De(["\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    margin: 0 1px;\n    width: 8.3%;\n"],["\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    margin: 0 1px;\n    width: 8.3%;\n"]))),Se=Object(i.a)((function(e){e.selected;var t=Oe(e,["selected"]);return l.a.createElement("div",xe({},t))}))(K||(K=De(["\n    background: ",";\n    border-radius: 4px;\n    height: 20px;\n    width: 100%;\n"],["\n    background: ",";\n    border-radius: 4px;\n    height: 20px;\n    width: 100%;\n"])),(function(e){return e.selected?"#007bff":"#6c757d"})),_e=i.a.div(Q||(Q=De(["\n    font-size: 12px;\n"],["\n    font-size: 12px;\n"]))),Ae=function(e){return l.a.createElement(Me,null,["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"].map((function(t,n){return l.a.createElement(je,{key:t,onClick:function(){return function(t){var n=new Date(e.monthDate.getFullYear(),t,1);e.setMonthDate(n)}(n)}},l.a.createElement(Se,{selected:e.monthDate.getMonth()===n}),l.a.createElement(_e,null,t))})))},Te=n(27),Ce=n(97),Ne=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Le=function(e,t,n,a){var r=t.filter((function(t){return n.find((function(e){return e.name===t.categoryName})).type===e}));return r.length?r.map((function(e){return E(e,a)})).reduce((function(e,t){return e+t})):0},ke=Object(i.a)(Ce.a)(X||(X=Ne(["\n    margin-bottom: 20px;\n    margin-top: 20px;\n    padding: 20px;\n    width: 250px;\n"],["\n    margin-bottom: 20px;\n    margin-top: 20px;\n    padding: 20px;\n    width: 250px;\n"]))),Pe=Object(i.a)(Ce.a.Title)(Z||(Z=Ne(["\n    margin: 0 auto;\n    &&& {\n        font-size: 1rem;\n        font-weight: 700;\n    }\n"],["\n    margin: 0 auto;\n    &&& {\n        font-size: 1rem;\n        font-weight: 700;\n    }\n"]))),Ge=Object(i.a)(Ce.a.Body)(ee||(ee=Ne(["\n    &&& {\n        font-size: 16px;\n        padding: 0;\n    }\n"],["\n    &&& {\n        font-size: 16px;\n        padding: 0;\n    }\n"]))),Be=i.a.div(te||(te=Ne(["\n    display: flex;\n"],["\n    display: flex;\n"]))),Ye=i.a.div(ne||(ne=Ne(["\n    margin-left: auto;\n"],["\n    margin-left: auto;\n"]))),ze=i.a.div(ae||(ae=Ne(["\n    background: #000;\n    height: 1px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n"],["\n    background: #000;\n    height: 1px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n"]))),Fe=function(e){var t=Le("expenses",e.budgets,e.categories,e.monthDate),n=Le("income",e.budgets,e.categories,e.monthDate),a=Le("other",e.budgets,e.categories,e.monthDate);return l.a.createElement(l.a.Fragment,null,e.budgets.length?l.a.createElement(ke,null,l.a.createElement(Pe,null,"Total Budgeted"),l.a.createElement(Ge,null,l.a.createElement(Be,null,l.a.createElement("div",null,"Income"),l.a.createElement(Ye,null,"+",Object(g.d)(n))),l.a.createElement(Be,null,l.a.createElement("div",null,"Expenses"),l.a.createElement(Ye,null,"-",Object(g.d)(t))),l.a.createElement(Be,null,l.a.createElement("div",null,"Other"),l.a.createElement(Ye,null,"-",Object(g.d)(a))),l.a.createElement(ze,null),l.a.createElement(Be,null,l.a.createElement("div",null,"Remaining"),l.a.createElement(Ye,null,Object(g.d)(n-a-t))))):null)},He=n(51),Re=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Ie=function(){return(Ie=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},qe=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{u(a.next(e))}catch(e){o(e)}}function i(e){try{u(a.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((a=a.apply(e,t||[])).next())}))},Je=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ue=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)l.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l},We=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ue(arguments[t]));return e},Ve=function(e,t){switch(t.type){case"SET_LOADING":return Ie(Ie({},e),{loading:t.loading});case"SET_MONTH_DATE":return Ie(Ie({},e),{monthDate:t.date});case"SHOW_BUDGET_ADD_MODAL":return Ie(Ie({},e),{budgetModal:Ie(Ie({},e.budgetModal),{show:!0,mode:"add"})});case"SHOW_BUDGET_EDIT_MODAL":return Ie(Ie({},e),{budgetModal:{show:!0,mode:"edit",budget:t.budget}});case"HIDE_BUDGET_MODAL":return Ie(Ie({},e),{budgetModal:Ie(Ie({},e.budgetModal),{show:!1})});case"SHOW_CATEGORY_MODAL":return Ie(Ie({},e),{categoryModal:!0});case"HIDE_CATEGORY_MODAL":return Ie(Ie({},e),{categoryModal:!1});case"SHOW_CATEGORY_SUBMODAL":return Ie(Ie({},e),{categoryModal:!1,categorySubmodal:{show:!0,mode:t.mode,category:t.category}});case"HIDE_CATEGORY_SUBMODAL":return Ie(Ie({},e),{categoryModal:!0,categorySubmodal:Ie(Ie({},e.categorySubmodal),{show:!1})});case"SHOW_CATEGORY_DELETE_MODAL":return Ie(Ie({},e),{categoryDeleteModal:!0,categorySubmodal:Ie(Ie({},e.categorySubmodal),{show:!1})});case"HIDE_CATEGORY_DELETE_MODAL":return Ie(Ie({},e),{categoryDeleteModal:!1,categoryModal:!0});default:return e}},$e=i.a.div(re||(re=Re(["\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n"],["\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n"]))),Ke=i.a.div(oe||(oe=Re(["\n    align-items: center;\n    display: flex;\n    flex-wrap: wrap;\n    margin: 20px 0;\n    max-width: 800px;\n    width: calc(100% - 40px);\n"],["\n    align-items: center;\n    display: flex;\n    flex-wrap: wrap;\n    margin: 20px 0;\n    max-width: 800px;\n    width: calc(100% - 40px);\n"]))),Qe=i.a.div(le||(le=Re(["\n    font-size: 1.25rem;\n    font-weight: 700;\n"],["\n    font-size: 1.25rem;\n    font-weight: 700;\n"])));t.default=function(){var e=Object(o.useContext)(He.a),t=e.transactions,n=e.categories,a=e.setCategories,r=e.budgets,i=e.setBudgets,u=Ue(Object(o.useReducer)(Ve,{loading:!1,monthDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),budgetModal:{show:!1,mode:"",budget:null},categoryModal:!1,categorySubmodal:{show:!1,mode:"add",category:null},categoryDeleteModal:!1}),2),d=u[0],s=u[1];Object(o.useEffect)((function(){var e=r.map((function(e){return e.categoryName})),t=n.map((function(t){return Ie(Ie({},t),{selected:-1===e.indexOf(t.name)})}));a(t)}),[r]);return l.a.createElement($e,null,l.a.createElement(Ke,null,l.a.createElement(c,{openAddModal:function(){return s({type:"SHOW_BUDGET_ADD_MODAL"})}}),l.a.createElement(Ae,{monthDate:d.monthDate,setMonthDate:function(e){return s({type:"SET_MONTH_DATE",date:e})}})),l.a.createElement(Qe,null,"Budgets for ",["January","February","March","April","May","June","July","August","September","October","November","December"][d.monthDate.getMonth()]," ",d.monthDate.getFullYear()),l.a.createElement(Ee,{budgets:r.filter((function(e){return new Date(e.startDate)<=d.monthDate&&new Date(e.endDate)>d.monthDate})),transactions:t.filter((function(e){return new Date(e.date).getFullYear()===d.monthDate.getFullYear()&&new Date(e.date).getMonth()===d.monthDate.getMonth()})),categories:n,monthDate:d.monthDate,openEditModal:function(e){return s({type:"SHOW_BUDGET_EDIT_MODAL",budget:e})}}),l.a.createElement(Fe,{budgets:r.filter((function(e){return new Date(e.startDate)<=d.monthDate&&new Date(e.endDate)>d.monthDate})),categories:n,monthDate:d.monthDate}),l.a.createElement(_,{show:d.budgetModal.show,mode:d.budgetModal.mode,budget:d.budgetModal.budget,close:function(){return s({type:"HIDE_BUDGET_MODAL"})},openCategory:function(){return s({type:"SHOW_CATEGORY_MODAL"})},categories:n.filter((function(e){return e.selected})),monthDate:d.monthDate,handleCreateBudget:function(e){return qe(void 0,void 0,void 0,(function(){var t,n;return Je(this,(function(a){switch(a.label){case 0:return s({type:"SET_LOADING",loading:!0}),[4,(o=e,h(void 0,void 0,void 0,(function(){var e,t;return y(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/api/budget",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({frequency:o.frequency,amount:o.amount,categoryName:o.categoryName,startDate:o.startDate,endDate:o.endDate})})];case 1:if(!(e=n.sent()).ok)throw Error("Bad response from server");return[4,e.json()];case 2:return[2,n.sent()];case 3:throw t=n.sent(),Error("Error creating budget: "+t);case 4:return[2]}}))})))];case 1:return t=a.sent(),n=We(r,[t]),i(n),s({type:"SET_LOADING",loading:!1}),[2]}var o}))}))},handleEditBudget:function(e,t){return qe(void 0,void 0,void 0,(function(){var n,a;return Je(this,(function(o){switch(o.label){case 0:return s({type:"SET_LOADING",loading:!0}),[4,v(e,t)];case 1:return n=o.sent(),a=We(r.filter((function(t){return t._id!==e})),[n]),i(a),s({type:"SET_LOADING",loading:!1}),[2]}}))}))},handleDeleteBudget:function(e){return qe(void 0,void 0,void 0,(function(){var t;return Je(this,(function(n){switch(n.label){case 0:return s({type:"SET_LOADING",loading:!0}),[4,w(e)];case 1:return n.sent(),t=r.filter((function(t){return t._id!==e})),i(t),s({type:"SET_LOADING",loading:!1}),[2]}}))}))}}),l.a.createElement(A.a,{setLoading:function(e){return s({type:"SET_LOADING",loading:e})},categoryModal:d.categoryModal,categorySubmodal:d.categorySubmodal,categoryDeleteModal:d.categoryDeleteModal,openCategorySubmodal:function(e,t){return s({type:"SHOW_CATEGORY_SUBMODAL",mode:e,category:t})},openCategoryDeleteModal:function(){return s({type:"SHOW_CATEGORY_DELETE_MODAL"})},hideCategoryModal:function(){return s({type:"HIDE_CATEGORY_MODAL"})},hideCategorySubmodal:function(){return s({type:"HIDE_CATEGORY_SUBMODAL"})},hideCategoryDeleteModal:function(){return s({type:"HIDE_CATEGORY_DELETE_MODAL"})}}),l.a.createElement(Te.a,{backdrop:!0,show:d.loading}))}}}]);