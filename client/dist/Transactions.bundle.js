(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{587:function(e,n,t){"use strict";t.r(n);var a,r,o,c,l,i,u,d,s,f,p,m,h,b,g,y,E,x,v,w,O,D,A,S=t(0),T=t.n(S),C=t(6),I=t(308),_=t.n(I),j=t(345),L=t.n(j),M=t(353),R=t.n(M),k=t(115),N=t(176),z=t(97),G=t(53),H=(t(363),t(365),t(117)),P=t(54),B=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},F=function(){return(F=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},W=function(e,n,t,a){return new(t||(t=Promise))((function(r,o){function c(e){try{i(a.next(e))}catch(e){o(e)}}function l(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,l)}i((a=a.apply(e,n||[])).next())}))},Y=function(e,n){var t,a,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=n.call(e,c)}catch(e){o=[6,e],a=0}finally{t=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},U=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,o=t.call(e),c=[];try{for(;(void 0===n||n-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return c},J=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(U(arguments[n]));return e},V=Object(C.a)(z.a)(a||(a=B(["\n    &&& input {\n        width: 100%;\n    }\n    margin-bottom: 10px;\n"],["\n    &&& input {\n        width: 100%;\n    }\n    margin-bottom: 10px;\n"]))),$=C.a.div(r||(r=B(["\n    #transaction-table {\n        font-size: 12px;\n    }\n\n    .transaction-table-header th,\n    .transaction-table-body td {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n    .transaction-table-header th {\n        padding: 0.5rem !important;\n    }\n\n    .transaction-table-header th:nth-child(2) {\n        width: 136px;\n    }\n\n    .transaction-table-header th:nth-child(5) {\n        width: 136px;\n    }\n\n    .transaction-table-body td {\n        padding: 0.25rem 0.5rem !important;\n    }\n\n    .transaction-table-body td:hover {\n        cursor: pointer;\n        background: rgba(0, 123, 255, 0.25);\n    }\n\n    .transaction-table-edit-cell .editor {\n        padding: 0.25rem;\n        height: 38px;\n    }\n\n    .transaction-table-edit-cell .alert {\n        margin-bottom: 0 !important;\n        white-space: normal;\n        padding: 0.25rem;\n    }\n\n    .transaction-table-edit-cell input {\n        font-size: 12px !important;\n        color: #212529 !important;\n    }\n\n    .transaction-table-edit-cell-date input {\n        padding: 0 !important;\n        font-size: 12px !important;\n    }\n\n    .selection-cell {\n        text-align: center;\n        background: inherit !important;\n        cursor: auto !important;\n    }\n\n    .selection-cell-header {\n        text-align: center;\n    }\n\n    .search-label {\n        width: 100%;\n        margin-bottom: 20px;\n    }\n\n    .search-label input {\n        height: 40px;\n    }\n"],["\n    #transaction-table {\n        font-size: 12px;\n    }\n\n    .transaction-table-header th,\n    .transaction-table-body td {\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n\n    .transaction-table-header th {\n        padding: 0.5rem !important;\n    }\n\n    .transaction-table-header th:nth-child(2) {\n        width: 136px;\n    }\n\n    .transaction-table-header th:nth-child(5) {\n        width: 136px;\n    }\n\n    .transaction-table-body td {\n        padding: 0.25rem 0.5rem !important;\n    }\n\n    .transaction-table-body td:hover {\n        cursor: pointer;\n        background: rgba(0, 123, 255, 0.25);\n    }\n\n    .transaction-table-edit-cell .editor {\n        padding: 0.25rem;\n        height: 38px;\n    }\n\n    .transaction-table-edit-cell .alert {\n        margin-bottom: 0 !important;\n        white-space: normal;\n        padding: 0.25rem;\n    }\n\n    .transaction-table-edit-cell input {\n        font-size: 12px !important;\n        color: #212529 !important;\n    }\n\n    .transaction-table-edit-cell-date input {\n        padding: 0 !important;\n        font-size: 12px !important;\n    }\n\n    .selection-cell {\n        text-align: center;\n        background: inherit !important;\n        cursor: auto !important;\n    }\n\n    .selection-cell-header {\n        text-align: center;\n    }\n\n    .search-label {\n        width: 100%;\n        margin-bottom: 20px;\n    }\n\n    .search-label input {\n        height: 40px;\n    }\n"]))),q=function(e){var n=Object(S.useContext)(G.a),t=n.transactions,a=n.categories,r=n.setTransactions,o=U(Object(S.useState)(t.filter((function(e){return e.selected}))),2),c=o[0],l=o[1],i=U(Object(S.useState)(""),2),u=i[0],d=i[1];Object(S.useEffect)((function(){l(t.filter((function(e){return e.selected})))}),[t]),Object(S.useEffect)((function(){if(u){var e=u.toLowerCase(),n=t.filter((function(n){return n.selected&&(Object(P.d)(n.amount).toLowerCase().includes(e)||n.category.toLowerCase().includes(e)||Object(H.c)(n.date).includes(e)||Object(H.d)(n.description).toLowerCase().includes(e))}));l(n)}else l(t.filter((function(e){return e.selected})))}),[u]);var s=[{text:"Date",dataField:"date",editCellClasses:"transaction-table-edit-cell transaction-table-edit-cell-date",editor:{type:M.Type.DATE},formatter:H.c,sort:!0,sortFunc:H.f,validator:H.i},{text:"Description",dataField:"description",editCellClasses:"transaction-table-edit-cell",formatter:H.d,sort:!0,validator:H.j},{text:"Category",dataField:"category",editCellClasses:"transaction-table-edit-cell",sort:!0,blurToSave:!1,editorRenderer:function(n,t){return T.a.createElement(k.a,{size:"sm",options:Object(P.e)(a),defaultOption:{label:t,value:t},onChange:function(e){return n.onUpdate(e.value)},onUpdate:n.onUpdate,menuComponent:function(n){return T.a.createElement(N.a,{menuProps:n,openCategoryModal:e.openCategoryModal})}})}},{text:"Amount",dataField:"amount",editCellClasses:"transaction-table-edit-cell",formatter:P.d,sort:!0,validator:H.h}];return T.a.createElement($,null,T.a.createElement(V,{inline:!0},T.a.createElement(z.a.Control,{onChange:function(e){return d(e.target.value)},type:"text",placeholder:"Search"})),T.a.createElement(_.a,{bootstrap4:!0,keyField:"_id",data:c,columns:s,id:"transaction-table",headerClasses:"transaction-table-header",bodyClasses:"transaction-table-body",defaultSortDirection:"asc",defaultSorted:[{dataField:"date",order:"desc"}],selectRow:{mode:"checkbox",selected:e.selectedTransactionIDs,onSelect:function(n,t){t?e.setSelectedTransactionIDs(J(e.selectedTransactionIDs,[n._id])):e.setSelectedTransactionIDs(e.selectedTransactionIDs.filter((function(e){return e!==n._id})))},onSelectAll:function(n,t){n?e.setSelectedTransactionIDs(t.map((function(e){return e._id}))):e.setSelectedTransactionIDs([])}},pagination:L()({paginationSize:4,sizePerPageList:[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100},{text:"All",value:c?c.length:0}]}),cellEdit:R()({mode:"click",blurToSave:!0,afterSaveCell:function(e,n,a,o){return W(void 0,void 0,void 0,(function(){var c,l,i,u,d;return Y(this,(function(s){switch(s.label){case 0:return c=!1,"date"===o.dataField?(l=new Date(e),i=new Date(n),l.setHours(0,0,0,0),i.setHours(0,0,0,0),i.setDate(i.getDate()+1),l.getTime()!==i.getTime()&&(c=!0)):e.toString()!==n.toString()&&(c=!0),c?(u=F(F({},a),((d={})[o.dataField]="amount"===o.dataField?parseFloat(n):n,d)),r(J(t.filter((function(e){return e._id!==a._id})),[u])),[4,Object(H.g)([a._id],u)]):[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))}})}))},K=t(582),Q=t(24),X=t(10),Z=function(){return(Z=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},ee=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,o=t.call(e),c=[];try{for(;(void 0===n||n-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return c},ne=function(e){var n=Object(S.useContext)(G.a).categories,t=Object(S.useRef)(null),a=ee(Object(S.useState)({date:new Date,_id:null,description:null,category:null,amount:null,accountID:null,categoryID:null,type:null}),2),r=a[0],c=a[1],l=ee(Object(S.useState)({show:!1,message:""}),2),i=l[0],u=l[1],d=function(){e.close(),c({date:new Date,_id:null,description:null,category:null,amount:null,accountID:null,categoryID:null,type:null})};return Object(S.useEffect)((function(){return function(){clearTimeout(o)}}),[]),T.a.createElement(K.a,{centered:!0,onShow:function(){return t.current.focus()},onHide:d,show:e.show},T.a.createElement(Q.a,{error:i.show,errorMessage:i.message}),T.a.createElement(z.a,null,T.a.createElement(K.a.Body,null,T.a.createElement(z.a.Group,null,T.a.createElement(z.a.Label,null,"Date"),T.a.createElement(z.a.Control,{className:"form-control editor edit-date",defaultValue:Object(P.a)(),onChange:function(e){return c(Z(Z({},r),{date:new Date(e.target.value)}))},type:"date"})),T.a.createElement(z.a.Group,null,T.a.createElement(z.a.Label,null,"Description"),T.a.createElement(z.a.Control,{onChange:function(e){return c(Z(Z({},r),{description:e.target.value}))},ref:t})),T.a.createElement(z.a.Group,null,T.a.createElement(z.a.Label,null,"Category"),T.a.createElement(k.a,{size:"bg",padded:!0,options:Object(P.e)(n),placeholder:"Select Category...",onChange:function(e){return c(Z(Z({},r),{category:e.value}))},menuComponent:function(n){return T.a.createElement(N.a,{menuProps:n,openCategoryModal:e.openCategory,openCallback:e.close})}})),T.a.createElement(z.a.Group,null,T.a.createElement(z.a.Label,null,"Amount"),T.a.createElement(z.a.Control,{onChange:function(e){return c(Z(Z({},r),{amount:parseFloat(e.target.value)}))}}))),T.a.createElement(K.a.Footer,null,T.a.createElement(X.a,{child:"Cancel",onClick:d,size:"sm",variant:"secondary"}),T.a.createElement(X.a,{child:"Submit",onClick:function(n){if(n.preventDefault(),r&&r.date&&r.description&&r.category&&null!=r.amount)if(isNaN(r.amount))u({show:!0,message:"Amount should be numeric"});else{if(!(r.amount>1e9))return"add"===e.mode?e.handleCreateTransaction(r):e.handleEditMultipleTransactions(r),void d();u({show:!0,message:"Maximum amount is $1,000,000,000"})}else u({show:!0,message:"All fields must be filled."});o&&clearTimeout(o),o=setTimeout((function(){u((function(e){return Z(Z({},e),{show:!1})}))}),3e3)},size:"sm",variant:"primary",submit:!0}))))},te=t(296),ae=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},re=function(){return(re=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},oe=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},ce=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,o=t.call(e),c=[];try{for(;(void 0===n||n-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return c},le=C.a.nav(c||(c=ae(["\n    background: #f0f0f0;\n    margin-bottom: 20px;\n    padding-top: calc(20px + 1.25rem);\n    width: 250px;\n    z-index: 1;\n    @media (max-width: 750px) {\n        padding-top: 0;\n        position: fixed;\n    }\n"],["\n    background: #f0f0f0;\n    margin-bottom: 20px;\n    padding-top: calc(20px + 1.25rem);\n    width: 250px;\n    z-index: 1;\n    @media (max-width: 750px) {\n        padding-top: 0;\n        position: fixed;\n    }\n"]))),ie=Object(C.a)((function(e){e.selectedAccountID;var n=oe(e,["selectedAccountID"]);return T.a.createElement("div",re({},n))}))(l||(l=ae(["\n    background: ",";\n    border-top: 1px solid rgba(222, 226, 230, 0.5);\n    color: ",";\n    cursor: pointer;\n    padding: 10px;\n    &:hover {\n        color: ",";\n    }\n"],["\n    background: ",";\n    border-top: 1px solid rgba(222, 226, 230, 0.5);\n    color: ",";\n    cursor: pointer;\n    padding: 10px;\n    &:hover {\n        color: ",";\n    }\n"])),(function(e){return"All Accounts"===e.selectedAccountID&&"#007bff"}),(function(e){return"All Accounts"===e.selectedAccountID&&"#fff"}),(function(e){return"All Accounts"===e.selectedAccountID?"#fff":"#007bff"})),ue=Object(C.a)((function(e){e.selectedAccountID,e.id,e.index,e.lastAccountIndex;var n=oe(e,["selectedAccountID","id","index","lastAccountIndex"]);return T.a.createElement("div",re({},n))}))(i||(i=ae(["\n    background: ",";\n    border-bottom: ",";\n    border-top: 1px solid rgba(222, 226, 230, 0.5);\n    color: ",";\n    cursor: pointer;\n    padding: 10px;\n    &:hover {\n        color: ",";\n    }\n"],["\n    background: ",";\n    border-bottom: ",";\n    border-top: 1px solid rgba(222, 226, 230, 0.5);\n    color: ",";\n    cursor: pointer;\n    padding: 10px;\n    &:hover {\n        color: ",";\n    }\n"])),(function(e){return e.selectedAccountID===e.id&&"#007bff"}),(function(e){return e.index===e.lastAccountIndex&&"1px solid #dee2e6"}),(function(e){return e.selectedAccountID===e.id&&"#fff"}),(function(e){return e.selectedAccountID===e.id?"#fff":"#007bff"})),de=C.a.div(u||(u=ae(["\n    font-size: 16px;\n    font-weight: 700;\n"],["\n    font-size: 16px;\n    font-weight: 700;\n"]))),se=C.a.div(d||(d=ae(["\n    font-size: 12px;\n    opacity: 0.75;\n"],["\n    font-size: 12px;\n    opacity: 0.75;\n"]))),fe=C.a.div(s||(s=ae(["\n    align-items: center;\n    background: #f0f0f0;\n    bottom: calc(100% - 95px);\n    display: flex;\n    fill: rgb(64, 64, 64);\n    height: calc(20px + 1.25rem);\n    justify-content: center;\n    position: relative;\n    width: calc(20px + 1.25rem);\n    &:hover {\n        background: rgba(0, 123, 255, 0.25);\n        cursor: pointer;\n    }\n"],["\n    align-items: center;\n    background: #f0f0f0;\n    bottom: calc(100% - 95px);\n    display: flex;\n    fill: rgb(64, 64, 64);\n    height: calc(20px + 1.25rem);\n    justify-content: center;\n    position: relative;\n    width: calc(20px + 1.25rem);\n    &:hover {\n        background: rgba(0, 123, 255, 0.25);\n        cursor: pointer;\n    }\n"]))),pe=C.a.svg(f||(f=ae(["\n    height: 16px;\n    width: 16px;\n"],["\n    height: 16px;\n    width: 16px;\n"]))),me=function(e){var n=ce(Object(S.useState)(window.innerWidth<750),2),t=n[0],a=n[1],r=ce(Object(S.useState)(!1),2),o=r[0],c=r[1],l=Object(S.useRef)(window.innerWidth);return Object(S.useEffect)((function(){var e=function(){l.current>750&&window.innerWidth<=750?a(!0):l.current<=750&&window.innerWidth>750&&(a(!1),c(!1)),l.current=window.innerWidth};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),T.a.createElement(le,{style:{left:o?0:-250,boxShadow:o?"#6c757d 1px -1px 4px 1px":null}},t?T.a.createElement(fe,{onClick:function(){return c((function(e){return!e}))},style:{left:o?"calc(230px - 1.25rem)":250,border:o?0:"2px solid rgb(187, 187, 187)",borderRadius:o?0:"0 9px 9px 0"}},T.a.createElement(pe,{viewBox:"0 0 256 256",style:{transform:o?"rotate(90deg)":"rotate(270deg)"}},T.a.createElement("polygon",{points:"225.813,48.907 128,146.72 30.187,48.907 0,79.093 128,207.093 256,79.093"}))):null,T.a.createElement(ie,{onClick:function(){return e.setSelectedAccountID("All Accounts")},selectedAccountID:e.selectedAccountID},T.a.createElement(de,null,"All Accounts"),T.a.createElement(se,null,e.accounts.length," accounts")),e.accounts.map((function(n,t){return T.a.createElement(ue,{key:n.id,id:n.id,index:t,lastAccountIndex:e.accounts.length-1,onClick:function(){return e.setSelectedAccountID(n.id)},selectedAccountID:e.selectedAccountID},T.a.createElement(de,null,n.institution),T.a.createElement(se,null,n.name," (...",n.mask,")"))})))},he=t(98),be=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},ge=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,o=t.call(e),c=[];try{for(;(void 0===n||n-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return c},ye=C.a.div(p||(p=be(["\n    display: flex;\n    padding: 1.25rem;\n    padding-top: 0;\n"],["\n    display: flex;\n    padding: 1.25rem;\n    padding-top: 0;\n"]))),Ee=Object(C.a)(he.a.Title)(m||(m=be(["\n    &&& {\n        font-weight: 700;\n    }\n"],["\n    &&& {\n        font-weight: 700;\n    }\n"]))),xe=Object(C.a)(he.a.Subtitle)(h||(h=be(["\n    font-size: 16px;\n    opacity: 0.75;\n"],["\n    font-size: 16px;\n    opacity: 0.75;\n"]))),ve=C.a.div(b||(b=be(["\n    margin-right: 25px;\n"],["\n    margin-right: 25px;\n"]))),we=C.a.div(g||(g=be(["\n    font-size: 16px;\n    opacity: 0.75;\n    text-transform: uppercase;\n"],["\n    font-size: 16px;\n    opacity: 0.75;\n    text-transform: uppercase;\n"]))),Oe=C.a.div(y||(y=be(["\n    font-weight: 700;\n"],["\n    font-weight: 700;\n"]))),De=function(e){var n=ge(Object(S.useState)(null),2),t=n[0],a=n[1];return Object(S.useEffect)((function(){var n=Object(H.e)(e.accounts,e.selectedAccountID,e.balance);a(n)}),[e.selectedAccountID,e.accounts,e.balance]),T.a.createElement(he.a,null,T.a.createElement(he.a.Body,null,T.a.createElement(Ee,null,t?t.institution:null),T.a.createElement(xe,null,t?t.name:null)),T.a.createElement(ye,null,t&&null!==e.balance?T.a.createElement(ve,null,T.a.createElement(we,null,"All Accounts"===e.selectedAccountID?"Total Balance":"Balance"),T.a.createElement(Oe,null,Object(P.d)(e.balance))):null,t&&null!==t.available?T.a.createElement(ve,null,T.a.createElement(we,null,"credit"===t.type?"Available Credit":"Available"),T.a.createElement(Oe,null,Object(P.d)(t.available))):null,t&&null!==t.creditLimit?T.a.createElement(ve,null,T.a.createElement(we,null,"Credit Limit"),T.a.createElement(Oe,null,Object(P.d)(t.creditLimit))):null))},Ae=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},Se=C.a.div(E||(E=Ae(["\n    display: flex;\n    margin: 10px 0;\n    @media (max-width: 550px) {\n        justify-content: space-around;\n    }\n"],["\n    display: flex;\n    margin: 10px 0;\n    @media (max-width: 550px) {\n        justify-content: space-around;\n    }\n"]))),Te=C.a.div(x||(x=Ae(["\n    @media (max-width: 550px) {\n        display: none;\n    } ;\n"],["\n    @media (max-width: 550px) {\n        display: none;\n    } ;\n"]))),Ce=C.a.svg(v||(v=Ae(["\n    fill: #fff;\n    height: 16px;\n    margin-right: 8px;\n    width: 16px;\n    @media (max-width: 550px) {\n        margin-right: 0;\n    } ;\n"],["\n    fill: #fff;\n    height: 16px;\n    margin-right: 8px;\n    width: 16px;\n    @media (max-width: 550px) {\n        margin-right: 0;\n    } ;\n"]))),Ie=function(e){var n=Object(S.useContext)(G.a).refresh;return T.a.createElement(Se,null,T.a.createElement(X.a,{child:T.a.createElement(T.a.Fragment,null,"+",T.a.createElement(Te,null," Add")),onClick:function(){return e.showModal()},style:{flex:1,margin:"0 10px"}}),T.a.createElement(X.a,{child:T.a.createElement(T.a.Fragment,null,T.a.createElement(Ce,null,T.a.createElement("svg",{viewBox:"0 0 512 512"},T.a.createElement("polygon",{points:"51.2,353.28 0,512 158.72,460.8"}),T.a.createElement("rect",{x:"89.73",y:"169.097",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -95.8575 260.3719)",width:"353.277",height:"153.599"}),T.a.createElement("path",{d:"M504.32,79.36L432.64,7.68c-10.24-10.24-25.6-10.24-35.84,0l-23.04,23.04l107.52,107.52l23.04-23.04 C514.56,104.96,514.56,89.6,504.32,79.36z"}))),T.a.createElement(Te,null,"Edit")),variant:"secondary",onClick:function(){return e.handleEditButton()},style:{flex:1,margin:"0 10px"}}),T.a.createElement(X.a,{child:T.a.createElement(T.a.Fragment,null,T.a.createElement(Ce,{viewBox:"-48 0 407 407"},T.a.createElement("path",{d:"m89.199219 37c0-12.132812 9.46875-21 21.601562-21h88.800781c12.128907 0 21.597657 8.867188 21.597657 21v23h16v-23c0-20.953125-16.644531-37-37.597657-37h-88.800781c-20.953125 0-37.601562 16.046875-37.601562 37v23h16zm0 0"}),T.a.createElement("path",{d:"m60.601562 407h189.199219c18.242188 0 32.398438-16.046875 32.398438-36v-247h-254v247c0 19.953125 14.15625 36 32.402343 36zm145.597657-244.800781c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm-59 0c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm-59 0c0-4.417969 3.582031-8 8-8s8 3.582031 8 8v189c0 4.417969-3.582031 8-8 8s-8-3.582031-8-8zm0 0"}),T.a.createElement("path",{d:"m20 108h270.398438c11.046874 0 20-8.953125 20-20s-8.953126-20-20-20h-270.398438c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20zm0 0"})),T.a.createElement(Te,null,"Delete")),variant:"danger",onClick:function(){return e.handleDeleteButton()},style:{flex:1,margin:"0 10px"}}),T.a.createElement(X.a,{child:T.a.createElement(T.a.Fragment,null,T.a.createElement(Ce,{viewBox:"0 0 512 512"},T.a.createElement("path",{d:"M493.815,70.629c-11.001-1.003-20.73,7.102-21.733,18.102l-2.65,29.069C424.473,47.194,346.429,0,256,0 C158.719,0,72.988,55.522,30.43,138.854c-5.024,9.837-1.122,21.884,8.715,26.908c9.839,5.024,21.884,1.123,26.908-8.715 C102.07,86.523,174.397,40,256,40c74.377,0,141.499,38.731,179.953,99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899,4.651 c-6.419,8.989-4.337,21.479,4.651,27.899l86.475,61.761c12.674,9.035,30.155,0.764,31.541-14.459l9.711-106.53 C512.919,81.362,504.815,71.632,493.815,70.629z"}),T.a.createElement("path",{d:"M472.855,346.238c-9.838-5.023-21.884-1.122-26.908,8.715C409.93,425.477,337.603,472,256,472 c-74.377,0-141.499-38.731-179.953-99.408l28.517,20.367c8.989,6.419,21.479,4.337,27.899-4.651 c6.419-8.989,4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-0.921-31.541,14.459l-9.711,106.53 c-1.003,11,7.102,20.73,18.101,21.733c11.014,1.001,20.731-7.112,21.733-18.102l2.65-29.069C87.527,464.806,165.571,512,256,512 c97.281,0,183.012-55.522,225.57-138.854C486.594,363.309,482.692,351.262,472.855,346.238z"})),T.a.createElement(Te,null,"Refresh")),variant:"success",onClick:function(){return n()},style:{flex:1,margin:"0 10px"}}))},_e=t(30),je=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},Le=function(){return(Le=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},Me=function(e,n,t,a){return new(t||(t=Promise))((function(r,o){function c(e){try{i(a.next(e))}catch(e){o(e)}}function l(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,l)}i((a=a.apply(e,n||[])).next())}))},Re=function(e,n){var t,a,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=n.call(e,c)}catch(e){o=[6,e],a=0}finally{t=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ke=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,o=t.call(e),c=[];try{for(;(void 0===n||n-- >0)&&!(a=o.next()).done;)c.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return c},Ne=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(ke(arguments[n]));return e},ze=function(e,n){switch(n.type){case"SET_LOADING":return Le(Le({},e),{loading:n.loading});case"SET_SELECTED_TRANSACTION_IDS":return Le(Le({},e),{selectedTransactionIDs:n.ids});case"SET_SELECTED_ACCOUNT_ID":return Le(Le({},e),{selectedAccountID:n.id});case"SET_BALANCE":return Le(Le({},e),{balance:n.balance});case"SHOW_TRANSACTION_ADD_MODAL":return Le(Le({},e),{transactionModal:{show:!0,mode:"add"}});case"SHOW_TRANSACTION_EDIT_MODAL":return Le(Le({},e),{transactionModal:{show:!0,mode:"edit"}});case"HIDE_TRANSACTION_MODAL":return Le(Le({},e),{transactionModal:{show:!1,mode:""}});case"SHOW_CATEGORY_MODAL":return Le(Le({},e),{categoryModal:!0});case"HIDE_CATEGORY_MODAL":return Le(Le({},e),{categoryModal:!1});case"SHOW_CATEGORY_SUBMODAL":return Le(Le({},e),{categoryModal:!1,categorySubmodal:{show:!0,mode:n.mode,category:n.category}});case"HIDE_CATEGORY_SUBMODAL":return Le(Le({},e),{categoryModal:!0,categorySubmodal:Le(Le({},e.categorySubmodal),{show:!1})});case"SHOW_CATEGORY_DELETE_MODAL":return Le(Le({},e),{categoryDeleteModal:!0,categorySubmodal:Le(Le({},e.categorySubmodal),{show:!1})});case"HIDE_CATEGORY_DELETE_MODAL":return Le(Le({},e),{categoryDeleteModal:!1,categoryModal:!0});case"SET_ERROR":return w&&clearTimeout(w),Le(Le({},e),{error:{show:!0,message:n.message}});case"HIDE_ERROR":return Le(Le({},e),{error:Le(Le({},e.error),{show:!1})});default:return e}},Ge=C.a.div(O||(O=je(["\n    display: flex;\n    justify-content: center;\n"],["\n    display: flex;\n    justify-content: center;\n"]))),He=C.a.div(D||(D=je(["\n    margin-top: 1.25rem;\n    max-width: 800px;\n    padding: 20px;\n    width: 100%;\n"],["\n    margin-top: 1.25rem;\n    max-width: 800px;\n    padding: 20px;\n    width: 100%;\n"]))),Pe=C.a.div(A||(A=je(["\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n    opacity: 0.75;\n"],["\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n    opacity: 0.75;\n"])));n.default=function(){var e=Object(S.useContext)(G.a),n=e.transactions,t=e.setTransactions,a=e.accounts,r=ke(Object(S.useReducer)(ze,{loading:!1,selectedTransactionIDs:[],selectedAccountID:"All Accounts",balance:0,transactionModal:{show:!1,mode:"add"},categoryModal:!1,categorySubmodal:{show:!1,mode:"add",category:null},categoryDeleteModal:!1,error:{show:!1,message:""}}),2),o=r[0],c=r[1];Object(S.useEffect)((function(){if(n){var e=n.map((function(e){return e.accountID===o.selectedAccountID||"All Accounts"===o.selectedAccountID?Le(Le({},e),{selected:!0}):Le(Le({},e),{selected:!1})}));t(e)}}),[o.selectedAccountID]),Object(S.useEffect)((function(){var e=n.filter((function(e){return e.selected})).length?n.filter((function(e){return e.selected})).map((function(e){return e.amount})).reduce((function(e,n){return e+n})):0;c({type:"SET_BALANCE",balance:e})}),[n]);return Object(S.useEffect)((function(){return function(){clearTimeout(w)}}),[]),T.a.createElement(Ge,null,T.a.createElement(me,{accounts:a,selectedAccountID:o.selectedAccountID,setSelectedAccountID:function(e){return c({type:"SET_SELECTED_ACCOUNT_ID",id:e})}}),T.a.createElement(He,null,a.length?T.a.createElement(De,{accounts:a,selectedAccountID:o.selectedAccountID,balance:o.balance}):null,T.a.createElement(Ie,{showModal:function(){return c({type:"SHOW_TRANSACTION_ADD_MODAL"})},handleEditButton:function(){o.selectedTransactionIDs.length?c({type:"SHOW_TRANSACTION_EDIT_MODAL"}):(c({type:"SET_ERROR",message:"No transactions selected to edit"}),w=setTimeout((function(){return c({type:"HIDE_ERROR"})}),3e3))},handleDeleteButton:function(){return Me(void 0,void 0,void 0,(function(){var e;return Re(this,(function(a){switch(a.label){case 0:return o.selectedTransactionIDs.length?[3,1]:(c({type:"SET_ERROR",message:"No transactions selected to delete"}),w=setTimeout((function(){return c({type:"HIDE_ERROR"})}),3e3),[3,3]);case 1:return c({type:"SET_LOADING",loading:!0}),[4,Object(H.b)(o.selectedTransactionIDs)];case 2:a.sent(),e=n.filter((function(e){return-1===o.selectedTransactionIDs.indexOf(e._id)})),t(e),c({type:"SET_SELECTED_TRANSACTION_IDS",ids:[]}),c({type:"SET_LOADING",loading:!1}),a.label=3;case 3:return[2]}}))}))}}),a.length?null:T.a.createElement(Pe,null,T.a.createElement("span",null,"No accounts added.")),T.a.createElement(q,{selectedTransactionIDs:o.selectedTransactionIDs,setSelectedTransactionIDs:function(e){return c({type:"SET_SELECTED_TRANSACTION_IDS",ids:e})},openCategoryModal:function(){return c({type:"SHOW_CATEGORY_MODAL"})}})),T.a.createElement(ne,{show:o.transactionModal.show,mode:o.transactionModal.mode,close:function(){return c({type:"HIDE_TRANSACTION_MODAL"})},openCategory:function(){return c({type:"SHOW_CATEGORY_MODAL"})},handleCreateTransaction:function(e){return Me(void 0,void 0,void 0,(function(){var a,r;return Re(this,(function(l){switch(l.label){case 0:return c({type:"SET_LOADING",loading:!0}),[4,Object(H.a)(e,o.selectedAccountID)];case 1:return a=l.sent(),r=Ne(n,[a]),t(r),c({type:"SET_LOADING",loading:!1}),[2]}}))}))},handleEditMultipleTransactions:function(e){return Me(void 0,void 0,void 0,(function(){var a,r,l;return Re(this,(function(i){switch(i.label){case 0:return c({type:"SET_LOADING",loading:!0}),[4,Object(H.g)(o.selectedTransactionIDs,e)];case 1:return a=i.sent(),r=a.map((function(e){return e._id})),l=Ne(a,n.filter((function(e){return-1===r.indexOf(e._id)}))),t(l),c({type:"SET_SELECTED_TRANSACTION_IDS",ids:[]}),c({type:"SET_LOADING",loading:!1}),[2]}}))}))}}),T.a.createElement(te.a,{setLoading:function(e){return c({type:"SET_LOADING",loading:e})},categoryModal:o.categoryModal,categorySubmodal:o.categorySubmodal,categoryDeleteModal:o.categoryDeleteModal,openCategorySubmodal:function(e,n){return c({type:"SHOW_CATEGORY_SUBMODAL",mode:e,category:n})},openCategoryDeleteModal:function(){return c({type:"SHOW_CATEGORY_DELETE_MODAL"})},hideCategoryModal:function(){return c({type:"HIDE_CATEGORY_MODAL"})},hideCategorySubmodal:function(){return c({type:"HIDE_CATEGORY_SUBMODAL"})},hideCategoryDeleteModal:function(){return c({type:"HIDE_CATEGORY_DELETE_MODAL"})}}),T.a.createElement(Q.a,{error:o.error.show,errorMessage:o.error.message}),T.a.createElement(_e.a,{backdrop:!0,show:o.loading}))}}}]);