(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{581:function(e,n,t){"use strict";t.r(n);var r,a,o,s,i,c=t(0),l=t.n(c),u=t(6),d=t(97),f=t(95),w=t(10),p=t(24),m=t(53),y=t(67),h=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},E=function(){return(E=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},b=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function i(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(s,i)}c((r=r.apply(e,n||[])).next())}))},P=function(e,n){var t,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(e,s)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},O=function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),s=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return s},g=function(e,n){switch(n.type){case"SET_LOADING":return E(E({},e),{loading:n.loading});case"SET_NOTIFICATION":return E(E({},e),{notification:n.notification});case"SET_OLD_PASSWORD":return E(E({},e),{oldPassword:n.oldPassword});case"SET_NEW_PASSWORD":return E(E({},e),{newPassword:n.newPassword});case"SET_CONFIRMED_PASSWORD":return E(E({},e),{confirmedPassword:n.confirmedPassword});case"CLEAR_PASSWORDS":return E(E({},e),{oldPassword:"",newPassword:"",confirmedPassword:""});case"SET_ERROR":return r&&clearTimeout(r),E(E({},e),{error:{show:!0,message:n.message,status:n.status}});case"HIDE_ERROR":return E(E({},e),{error:E(E({},e.error),{show:!1})});default:return e}},S=u.a.div(a||(a=h(["\n    display: flex;\n    justify-content: center;\n"],["\n    display: flex;\n    justify-content: center;\n"]))),R=Object(u.a)(d.a)(o||(o=h(["\n    margin-top: 20px;\n    max-width: 600px;\n    width: calc(100% - 40px);\n"],["\n    margin-top: 20px;\n    max-width: 600px;\n    width: calc(100% - 40px);\n"]))),v=Object(u.a)(d.a.Group)(s||(s=h(["\n    display: flex;\n    flex-direction: column;\n"],["\n    display: flex;\n    flex-direction: column;\n"]))),_=u.a.div(i||(i=h(["\n    font-size: 1.25rem;\n    font-weight: 700;\n    margin-top: 1rem;\n"],["\n    font-size: 1.25rem;\n    font-weight: 700;\n    margin-top: 1rem;\n"])));n.default=function(){var e=Object(c.useContext)(m.a),n=e.user,t=e.setUser,a=O(Object(c.useReducer)(g,{loading:!1,notification:n.notification,oldPassword:"",newPassword:"",confirmedPassword:"",error:{show:!1,message:"",status:""}}),2),o=a[0],s=a[1],i=function(e){return b(void 0,void 0,void 0,(function(){return P(this,(function(r){switch(r.label){case 0:return s({type:"SET_NOTIFICATION",notification:e}),t(E(E({},n),{notification:e})),[4,Object(y.b)(e)];case 1:return r.sent(),[2]}}))}))};return Object(c.useEffect)((function(){return function(){clearTimeout(r)}}),[]),l.a.createElement(S,null,l.a.createElement(R,null,l.a.createElement(v,null,l.a.createElement(_,null,"Email Notifications"),l.a.createElement(d.a.Check,{inline:!0,label:"Daily",type:"radio",id:"1",checked:"Daily"===o.notification,onChange:function(){return i("Daily")}}),l.a.createElement(d.a.Check,{inline:!0,label:"Weekly",type:"radio",id:"2",checked:"Weekly"===o.notification,onChange:function(){return i("Weekly")}}),l.a.createElement(d.a.Check,{inline:!0,label:"Monthly",type:"radio",id:"3",checked:"Monthly"===o.notification,onChange:function(){return i("Monthly")}})),l.a.createElement(_,null,"Reset Password"),l.a.createElement(d.a.Group,null,l.a.createElement(d.a.Label,null,"Old Password"),l.a.createElement(d.a.Control,{type:"password",value:o.oldPassword,onChange:function(e){return s({type:"SET_OLD_PASSWORD",oldPassword:e.target.value})}})),l.a.createElement(d.a.Group,null,l.a.createElement(d.a.Label,null,"New Password"),l.a.createElement(d.a.Control,{type:"password",value:o.newPassword,onChange:function(e){return s({type:"SET_NEW_PASSWORD",newPassword:e.target.value})}})),l.a.createElement(d.a.Group,null,l.a.createElement(d.a.Label,null,"Confirm Password"),l.a.createElement(d.a.Control,{type:"password",value:o.confirmedPassword,onChange:function(e){return s({type:"SET_CONFIRMED_PASSWORD",confirmedPassword:e.target.value})}})),l.a.createElement(w.a,{child:o.loading?l.a.createElement(f.a,{as:"span",animation:"border",size:"sm"}):"Save",onClick:function(e){return b(void 0,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return e.preventDefault(),s({type:"SET_LOADING",loading:!0}),[4,Object(y.c)(o.oldPassword)];case 1:return n.sent()?[3,2]:(s({type:"SET_ERROR",message:"Old password is incorrect",status:"danger"}),[3,6]);case 2:return o.newPassword||o.confirmedPassword?[3,3]:(s({type:"SET_ERROR",message:"Password cannot be blank",status:"danger"}),[3,6]);case 3:return o.newPassword===o.confirmedPassword?[3,4]:(s({type:"SET_ERROR",message:"Passwords do not match",status:"danger"}),[3,6]);case 4:return[4,Object(y.a)(o.newPassword)];case 5:n.sent(),s({type:"CLEAR_PASSWORDS"}),s({type:"SET_ERROR",message:"Password successfully updated",status:"success"}),n.label=6;case 6:return s({type:"SET_LOADING",loading:!1}),r=setTimeout((function(){return s({type:"HIDE_ERROR"})}),3e3),[2]}}))}))},variant:"primary",submit:!0,block:!0,style:{height:40,marginBottom:20}}),l.a.createElement(p.a,{error:o.error.show,errorMessage:o.error.message,type:o.error.status})))}}}]);